<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="nvd3-behavior.html">

<!--
An element to create pie chart using nvd3.

Example:

    <nvd3-pie
    data="[[data]]"
    height="100"
    width="400"
    auto-resize
    show-legend></nvd3-pie>

Data Format:
```
[
  {
    "label": "label 1",
    "value": 69
  },
  {
    "label": "label 2",
    "value": 85
  }
]
```

@group NVD3 Elements
@element nvd3-pie
@demo demo/nvd3-pie.html
@hero hero.svg
-->

<dom-module id="nvd3-pie">
  <template>
    <!-- We need to put svg tag inside a div to set correct margins -->
    <div>
      <svg></svg>
    </div>
  </template>

  <script>
    Polymer({
      is: 'nvd3-pie',
      behaviors: [NVD3.ChartBehavior],
      properties: {
        /**
         * NVD3 chart object.
         */
        _chart: {
          type: Object,
          value: function() {
            return nv.models.pieChart()
              .x(function(d) {
                return d.label
              })
              .y(function(d) {
                return d.value
              });
          }
        },

        /**
         * Show pie chart labels for each slice
         */
        showLabels: {
          type: Boolean,
          value: false
        },

        /**
         * Whether to display the legend or not
         */
        showLegend: {
          type: Boolean,
          value: false
        },

        /**
         * Whether to increase slice radius on hover or not
         */
        growOnHover: {
          type: Boolean,
          value: false
        },

        /**
         * Disable the tooltip
         */
        disableTooltip: {
          type: Boolean,
          value: false
        }
      }
    });
  </script>
</dom-module>
